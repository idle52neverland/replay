<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>i-dle Î™∞ÏïÑÎ≥¥Í∏∞</title>
  <link rel="icon" href="images/i-dle logo.png" type="image/png" />
  <style>
  <style>
  body {
    margin: 0;
    font-family: 'Helvetica Neue', sans-serif;
    background-color: #111;
    color: #fff;
    text-align: center;
  }
  .header-bar {
    padding: 50px 0 20px;
    font-size: 28px;
    font-weight: bold;
  }
  .category-wrapper {
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: center;
    margin-bottom: 20px;
  }
  .category-row {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 16px;
    max-width: 90%;
  }
  .category-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 150px;
    text-decoration: none;
    color: #fff;
  }
  .category-item img {
    width: 100%;
    height: 84px;
    border-radius: 8px;
    object-fit: cover;
  }
  .category-item span {
    margin-top: 5px;
    font-size: 13px;
  }
  .top-bar {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 20px 0;
  }
  .search-wrapper {
    position: relative;
  }
  .search-wrapper input {
    padding: 10px 40px 10px 15px;
    border-radius: 24px;
    border: none;
    width: 250px;
  }
  .search-wrapper button {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
  }
  .card-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    padding: 0 40px;
  }
  .card {
    background-color: #222;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    text-decoration: none;
    color: #fff;
    display: flex;
    flex-direction: column;
    transition: transform 0.2s;
  }
  .card:hover {
    transform: translateY(-5px);
  }
  .thumbnail-wrapper img {
    width: 100%;
    aspect-ratio: 16/9;
    object-fit: cover;
  }
  .card-title {
    padding: 8px;
    font-size: 15px;
    font-weight: bold;
    text-align: left;
    height: 46px;
    overflow: hidden;
  }
  .card-meta {
    font-size: 12px;
    color: #ccc;
    display: flex;
    justify-content: space-between;
    padding: 0 8px 8px;
  }
  .button-wrapper {
    margin: 40px 0;
    display: flex;
    justify-content: center;
    gap: 20px;
  }
  #loadMoreBtn, #scrollTopBtn {
    background-color: #fff;
    color: #111;
    border: none;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    font-weight: bold;
    cursor: pointer;
  }
  #scrollTopBtn:hover {
    background-color: #ddd;
  }
</style>


</head>
<body>

  <div class="header-bar">i-dle Î™∞ÏïÑÎ≥¥Í∏∞</div>

  <div class="category-wrapper">
    <div class="category-row" id="categoryRow1"></div>
    <div class="category-row" id="categoryRow2"></div>
  </div>

  <div class="top-bar">
    <div class="search-wrapper">
      <input type="text" id="searchInput" placeholder="Search all videos...">
      <button id="searchBtn">üîç</button>
    </div>
    <button id="resetSearchBtn">‚ü≥</button>
    <button onclick="location.href='index.html'">üè†</button>
  </div>

  <div id="cardCount" style="text-align: right; padding: 0 20px; font-size: 14px; color: #ccc;"></div>
  <div class="card-container" id="allCards"></div>

  <div class="button-wrapper">
    <button id="loadMoreBtn">+</button>
    <button id="scrollTopBtn">‚Üë</button>
  </div>

  <script src="common.js"></script>
  <script src="js/cards-MV_SPECIAL_CLIP.js"></script>
  <script src="js/cards-STAGE_PERFORMANCE.js"></script>
  <script src="js/cards-VOCAL_AND_DANCE.js"></script>
  <script src="js/cards-SPECIAL_RELEASES.js"></script>
  <script src="js/cards-RECORDING_BEHIND.js"></script>
  <script src="js/cards-ORIGINAL_VARIETY.js"></script>
  <script src="js/cards-MEDIA_CONTENTS.js"></script>
  <script src="js/cards-RADIO_PODCAST.js"></script>
  <script src="js/cards-BEHIND_CLIPS.js"></script>
  <script src="js/cards-OFFICIAL_CLIPS.js"></script>
  <script src="js/cards-INTERVIEW.js"></script>
  <script src="js/cards-LIVE_STREAM.js"></script>
  <script src="js/cards-COMMERCIALS.js"></script>
  <script src="js/cards-SHORTS.js"></script>
  <script src="js/cards-ETC.js"></script>

  <script>
    const categories = [
      "MV_SPECIAL_CLIP", "SPECIAL_RELEASES", "STAGE_PERFORMANCE", "VOCAL_AND_DANCE",
      "OFFICIAL_CLIPS", "RECORDING_BEHIND", "LIVE_STREAM",
      "ORIGINAL_VARIETY", "MEDIA_CONTENTS", "RADIO_PODCAST", "BEHIND_CLIPS",
      "INTERVIEW", "COMMERCIALS", "SHORTS", "ETC"
    ];

    const thumbnails = [
      "https://i.ytimg.com/vi/hAONx6nuEgI/maxresdefault.jpg",
      "https://i.ytimg.com/vi/nG5USDluWxA/maxresdefault.jpg",
      "https://i.ytimg.com/vi/wf2el46VZEA/maxresdefault.jpg",
      "https://i.ytimg.com/vi/wlnE89SEC4U/sddefault.jpg",
      "https://i.ytimg.com/vi/V-2lTBsI4_U/maxresdefault.jpg",
      "https://i.ytimg.com/vi/Ly5SxYH5OhI/maxresdefault.jpg",
      "https://i.ytimg.com/vi/aBg10lRqyRA/sddefault.jpg",
      "https://i.ytimg.com/vi/Jw9a-H7iVpk/maxresdefault.jpg",
      "https://i.ytimg.com/vi/gyy645RzBBA/maxresdefault.jpg",
      "https://i.ytimg.com/vi/ISsi7sLXI8g/sddefault.jpg",
      "https://i.ytimg.com/vi/Xsdfgg8aEQQ/sddefault.jpg",
      "https://i.ytimg.com/vi/-xcOOq9bWYI/sddefault.jpg",
      "https://i.ytimg.com/vi/hKtzmYCI7mw/maxresdefault.jpg",
      "https://i.ytimg.com/vi/7D-CxMpyqOQ/sddefault.jpg",
      "https://i.ytimg.com/vi/Oo9K9ago7S4/sddefault.jpg"
    ];

    categories.forEach((cat, i) => {
      const item = document.createElement("a");
      item.className = "category-item";
      item.href = `category.html?category=${cat}`;
      item.innerHTML = `<img src="${thumbnails[i]}" alt="${cat}"><span>${cat}</span>`;
      if (i < 7) {
        document.getElementById("categoryRow1").appendChild(item);
      } else {
        document.getElementById("categoryRow2").appendChild(item);
      }
    });

    const container = document.getElementById("allCards");
    const loadMoreBtn = document.getElementById("loadMoreBtn");
    const scrollTopBtn = document.getElementById("scrollTopBtn");
    const searchInput = document.getElementById("searchInput");
    const resetSearchBtn = document.getElementById("resetSearchBtn");
    const searchBtn = document.getElementById("searchBtn");
    const cardCountEl = document.getElementById("cardCount");
    let currentIndex = 0;
    const batchSize = 12;

    const all = [].concat(
      typeof mvSpecialClipCards !== 'undefined' ? mvSpecialClipCards : [],
      typeof stagePerformanceCards !== 'undefined' ? stagePerformanceCards : [],
      typeof vocalAndDanceCards !== 'undefined' ? vocalAndDanceCards : [],
      typeof specialReleasesCards !== 'undefined' ? specialReleasesCards : [],
      typeof recordingBehindCards !== 'undefined' ? recordingBehindCards : [],
      typeof originalVarietyCards !== 'undefined' ? originalVarietyCards : [],
      typeof mediaContentsCards !== 'undefined' ? mediaContentsCards : [],
      typeof radioPodcastCards !== 'undefined' ? radioPodcastCards : [],
      typeof behindClipsCards !== 'undefined' ? behindClipsCards : [],
      typeof officialClipCards !== 'undefined' ? officialClipCards : [],
      typeof interviewCards !== 'undefined' ? interviewCards : [],
      typeof liveStreamCards !== 'undefined' ? liveStreamCards : [],
      typeof commercialsCards !== 'undefined' ? commercialsCards : [],
      typeof shortsCards !== 'undefined' ? shortsCards : [],
      typeof etcCards !== 'undefined' ? etcCards : []
    );

    function extractDate(title) {
      const match = title.match(/\((\d{4}-\d{2}-\d{2})\)/);
      return match ? match[1] : '2000-01-01';
    }

    all.sort((a, b) => new Date(extractDate(b.title)) - new Date(extractDate(a.title)));
    let filtered = all;

    function updateCardCount(count) {
      cardCountEl.textContent = `Ï¥ù ${count}Í∞ú ÏòÅÏÉÅ`;
    }

    function applySearch() {
      const query = searchInput.value.toLowerCase();
      filtered = all.filter(c => (c.title + c.member).toLowerCase().includes(query));
      currentIndex = 0;
      renderCards(filtered);
    }

    function renderCards(cards) {
      container.innerHTML = '';
      cards.slice(0, currentIndex + batchSize).forEach(data => {
        const card = document.createElement("a");
        card.className = "card";
        card.innerHTML = `
          <div class="thumbnail-wrapper"><img src="${data.thumbnail}" alt=""></div>
          <div class="card-title">${data.title}</div>
          <div class="card-meta">
            <div>${data.category}</div>
            <div>${data.member}</div>
          </div>
        `;
        card.href = data.link;
        card.target = "_blank";
        container.appendChild(card);
      });

      currentIndex += batchSize;
      loadMoreBtn.style.display = currentIndex >= cards.length ? "none" : "block";
      updateCardCount(cards.length);
    }

    renderCards(filtered);

    loadMoreBtn.addEventListener("click", () => renderCards(filtered));
    searchBtn.addEventListener("click", applySearch);
    searchInput.addEventListener("keydown", e => { if (e.key === "Enter") applySearch(); });
    resetSearchBtn.addEventListener("click", () => {
      searchInput.value = '';
      filtered = all;
      currentIndex = 0;
      renderCards(filtered);
    });
    scrollTopBtn.addEventListener("click", () => window.scrollTo({ top: 0, behavior: "smooth" }));
  </script>

</body>
</html>
